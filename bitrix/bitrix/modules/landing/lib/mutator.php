<? namespace Bitrix\Landing;$GLOBALS['____28216698']= array(base64_decode('ZGVmaW5l'),base64_decode('aW5fYX'.'JyYXk='),base64_decode(''.'cHJlZ1'.'9'.'t'.'YXRjaF9h'.'bGw='),base64_decode('Y'.'XJyYXl'.'fb'.'WV'.'yZ'.'2U='),base64_decode(''.'YXJ'.'yYXlfdmFsdWVz'),base64_decode('YX'.'JyYX'.'lfdW5pcXVl'),base64_decode(''.'c3Vic3'.'Ry'),base64_decode('aW5'.'fYXJyYXk'.'='),base64_decode('Z'.'XhwbG9'.'kZQ=='),base64_decode(''.'cGFj'.'aw=='),base64_decode(''.'bWQ1'),base64_decode('Y'.'29uc3RhbnQ='),base64_decode('a'.'GF'.'z'.'a'.'F9o'.'bW'.'Fj'),base64_decode('c'.'3'.'RyY21w'),base64_decode('ZXhwbG9kZQ='.'='),base64_decode('b'.'W'.'t0aW1l'),base64_decode('dGlt'.'Z'.'Q'.'=='),base64_decode('ZXh'.'wbG9kZ'.'Q=='),base64_decode('cGFjaw=='),base64_decode('bWQ'.'1'),base64_decode('Y29u'.'c3Rhb'.'nQ='),base64_decode('aGFzaF9'.'o'.'bWFj'),base64_decode('c3RyY'.'21'.'w'),base64_decode(''.'ZX'.'hw'.'bG9kZQ=='),base64_decode('bW'.'t'.'0aW1l'),base64_decode('d'.'GltZQ=='),base64_decode('aW5'.'fY'.'XJyY'.'Xk='),base64_decode(''.'cHJlZ19yZ'.'XB'.'sYWNlX2N'.'hbGxiY'.'WN'.'r'),base64_decode('b'.'WJfc3RydG'.'9sb'.'3'.'d'.'lcg=='),base64_decode('cH'.'Jl'.'Z19yZ'.'XB'.'sY'.'WNlX2N'.'hbGxiYW'.'N'.'r'),base64_decode('cHJlZ19yZXBsYWNlX2N'.'hbGx'.'i'.'Y'.'WN'.'r'),base64_decode('b'.'WJfc3R'.'ydG9sb'.'3'.'d'.'lcg=='),base64_decode('c3RyX3Jl'.'cGxhY'.'2'.'U'.'='),base64_decode('cHJ'.'lZ19tYXRjaA=='),base64_decode(''.'cHJl'.'Z'.'19yZXBsYWNlX2N'.'hbGxiYWNr'));if(!function_exists(__NAMESPACE__.'\\___1172763217')){function ___1172763217($_448082259){static $_1385455356= false; if($_1385455356 == false) $_1385455356=array('TEFOREl'.'OR1'.'9NVV'.'R'.'BVE9S'.'X'.'01PRE'.'U=','cn'.'U=','Y'.'nk'.'=','a'.'3o=',''.'UEhPTkVfTk9UX'.'0'.'NPTkZJUk1F'.'RA'.'==','T'.'EFO'.'R'.'ElOR'.'19QSE9'.'OR'.'V'.'9OT1R'.'f'.'Q0'.'9ORklST'.'UVE','RU1BS'.'Ux'.'fTk9'.'UX0'.'NPTk'.'Z'.'JUk1FRA==','T'.'EFOR'.'ElOR'.'19FT'.'UFJTF9OT1RfQ'.'09O'.'RklSTUV'.'E','YWxs'.'b3dfc2tpcF9wa'.'G9uZV'.'92ZXJpZmljY'.'XRpb'.'24=','WQ==','Yml0cml4MjQ=','bGFuZG'.'l'.'uZ19za'.'2lw'.'X'.'3Bob25lX3Zlcml'.'ma'.'W'.'Nhd'.'Glvbg==','YWxsb3dfc2tpcF9l'.'b'.'WFpbF92Z'.'XJ'.'pZmljY'.'XRpb2'.'4=','WQ==',''.'bGFuZG'.'lu'.'Zw==','b25MYW5k'.'aW5n'.'U3RhcnRQd'.'W'.'JsaWNhdGlvb'.'g='.'=','aW'.'Q=','Ym'.'xvY2tJZA==','c2l0'.'Z'.'Ulk',''.'bGFuZGl'.'u'.'Z19'.'1cmxjaG'.'Vj'.'a2V'.'yX2tleQ'.'==','c2VsZWN0','Q09O'.'VE'.'VOVA==','Zmls'.'dGVy','TElE','PU'.'RF'.'TE'.'V'.'URUQ=','Tg==',''.'PU'.'FDVEl'.'WRQ==',''.'WQ==','PVBV'.'Q'.'kxJQw==',''.'Tg==','Iyg'.'oaHR0cHxmdHB8aHR'.'0c'.'HM'.'p'.'Oi8vW1'.'4nI'.'lx'.'z'.'PF'.'0rKSNpcw==','Q0'.'9'.'OVE'.'VOVA'.'='.'=','aHR0'.'cHM6Ly'.'9wc'.'mV2aW'.'V3L'.'mJpdH'.'Jpe'.'DI'.'0LnNpd'.'GUvdG9vbHMvdXJsY2'.'hlY'.'2'.'tlc'.'i5'.'waHA=',''.'a2V5','d'.'XJs','aHR0cF9ob3'.'N0',''.'SFRU'.'UF9'.'IT1NU','T0s=','V'.'VJM'.'Q0hFQ0'.'tFUl9GQUlM',''.'T'.'E'.'FOREl'.'OR19VUkxDSEV'.'DS0VSX0ZBSUw=',''.'ZmlsdGVy','IUlE','UF'.'VCTEl'.'DX1'.'B'.'BR0VfU'.'kVBQ0'.'hFRA==','bGltaXRfc2l0ZXNf'.'bnV'.'tYmVy'.'X3'.'BhZ2U=','SU5JVElBVE9SX0'.'FQUF9'.'DT0'.'R'.'F','c'.'m'.'VzdA'.'==',''.'ZmlsdGVy','PUN'.'PREU'.'=','SU5JVEl'.'BVE9SX0'.'F'.'QUF9DT0RF','','U'.'E'.'FZ'.'TUVOVF9B'.'TExPVw==','WQ='.'=',''.'TEFORElOR1'.'9QQVlNRU5UX0'.'ZBSU'.'xFR'.'A==','bGFuZGl'.'uZ19wYXltZW'.'50X2Zh'.'aW'.'xl'.'ZF8'.'y',''.'c2VsZWN0',''.'Q09'.'ERQ'.'==','Z'.'mls'.'dG'.'Vy','TElE',''.'PUFDVElWRQ==','WQ==',''.'P'.'UR'.'FTEVURUQ=','Tg==','PVB'.'VQkxJ'.'Qw==',''.'Tg==','Q'.'0'.'9E'.'RQ==',''.'cmVwb18l','Q'.'09'.'ERQ==','UEFZTUVOVF'.'9BT'.'Ex'.'PVw==','WQ==','WQ==','TE'.'FORElOR19'.'QQVlN'.'RU5'.'U'.'X0Z'.'B'.'SUxFRF9CTE9DSw==','bGF'.'uZGl'.'uZ1'.'9wYXltZW50X2ZhaWxl'.'ZF'.'9ibG9'.'j'.'a'.'w==','c2VsZWN0','SUQ=','VFlQRQ==','ZmlsdGVy','SU'.'Q=','PVNQRUN'.'JQUw=','Tg==',''.'Q0'.'h'.'FQ0tfUEVSTUlT'.'U'.'0l'.'PTlM=','Tg'.'==','ZmlsdGVy','IUlE','SUQ'.'=','dHlw'.'ZQ==','VF'.'lQR'.'Q='.'=','VFlQRQ==',''.'U'.'FVC'.'TElDX1'.'NJVEV'.'fUkVB'.'Q0h'.'FRF'.'9G'.'UkVF','UFVCTElDX1N'.'JVEV'.'fUkV'.'BQ'.'0hFRA==','VF'.'l'.'QRQ'.'='.'=',''.'bGltaXRfc2l0'.'Z'.'XNfbnVtYmV'.'yX2Zy'.'Z'.'WU=','bGltaXR'.'f'.'c'.'2l'.'0'.'Z'.'XN'.'fbn'.'V'.'tYmVy','c2'.'V'.'sZWN0','S'.'UQ'.'=','Zml'.'sdG'.'Vy','U0lUR'.'V9JRA==','Q0h'.'FQ0t'.'fUEVSTUlT'.'U'.'0'.'lPTlM=','Tg==','SUQ=','c2VsZWN'.'0',''.'S'.'UQ=','RU5'.'US'.'VRZX'.'1RZUEU=',''.'RU5USVRZX'.'0lE','ZmlsdGVy','TE9HSUM=',''.'T1I'.'=','PUVOVElUWV9U'.'WVB'.'F','RU5'.'USVRZX0'.'l'.'E','PUVOVElU'.'WV9UWVBF','RU5U'.'SVRZ'.'X0lE','PUhP'.'T0s=',''.'SEV'.'BR'.'EJMT'.'0NL','PUNPREU=','V'.'VNF','PVZBTF'.'VF','WQ==',''.'b'.'Gl'.'ta'.'XQ=',''.'UFV'.'CTElDX'.'0hUTUxfRElTQUxM'.'T1dFR'.'Fs=','R'.'U5USVRZX'.'1RZUEU=','RU5U'.'SVRZX0lE','XQ==','b'.'GltaXRfc2l0ZXNfa'.'H'.'RtbF9qcw==','bGFuZ'.'GluZw==','b25'.'MY'.'W5kaW5nUHVibGljYX'.'Rp'.'b24=','aWQ=',''.'Ymx'.'vY2tJ'.'ZA='.'=','dHBsQ29kZQ==','VFBMX0NPREU=','Yml0cml4'.'MjQ=','REI=','U'.'0V'.'MR'.'UNU'.'I'.'F'.'ZBTFVFIEZST0'.'0gYl9vcHRpb'.'2'.'4gV'.'0hFUk'.'UgTk'.'FNRT0nflBBUkFNX'.'0'.'ZJTk'.'l'.'TSF'.'9EQVRFJyBB'.'T'.'kQ'.'g'.'TU9'.'EVUxFX'.'0l'.'EP'.'Sdt'.'YWluJw='.'=','V'.'kFMVU'.'U=','Lg==','S'.'Co=','Ym'.'l'.'0cml4',''.'TElDRU5TRV9LRVk=','c2hhM'.'jU2','MjA'.'xOC0wMS0wM'.'Q='.'=','MjAx'.'O'.'C0wMS0wMQ==','LQ==','TEl'.'DRU5TRV9FWF'.'BJUkVE','TEF'.'ORElOR1'.'9MSUNFTl'.'NFX0VY'.'UElSRUQ'.'=','Yml'.'0cm'.'l'.'4MjQ=','REI=','U0VMRUNUI'.'FZBTFVF'.'IEZST'.'00gYl9'.'vcHRpb'.'24gV'.'0hFUkUg'.'TkFNR'.'T0'.'n'.'fl'.'B'.'BUkFN'.'X'.'0ZJTklTSF9E'.'QVRFJy'.'BBTkQgTU'.'9EVU'.'x'.'FX0lE'.'P'.'SdtYWluJw='.'=',''.'VkFM'.'VU'.'U=','Lg==','SC'.'o=','Yml0cml4','TElD'.'RU5TRV9LRVk=','c2hhMj'.'U2',''.'M'.'j'.'A'.'xOC0w'.'MS0wMQ'.'==','Mj'.'AxOC'.'0'.'w'.'MS0wMQ'.'==','LQ'.'==',''.'TEl'.'DRU5TRV9FWFBJUkVE','TEFORElOR19MS'.'UNF'.'TlNFX0'.'VY'.'UElSRUQ'.'=',''.'QUNUSVZF','WQ==',''.'UFVC'.'TE'.'lD','WQ==','R'.'EFURV9QVUJMSUM=','REFUR'.'V'.'9'.'NT0RJRlk=','Q'.'U'.'NUSV'.'ZF','WQ==','Ly'.'h'.'bXDsiXXsw'.'LDF9'.'KSNibG9'.'jayhbXG'.'RdKykoW1'.'w'.'mI'.'l1'.'7MCw'.'xfSkva'.'XM=','TE'.'lE','PURFTEVURUQ=','Tg='.'=','SUQ=','c'.'2Vs'.'ZWN0','SUQ=','U'.'EFSRU5UX0lE','Z'.'m'.'l'.'sdGVy','SUQ=','S'.'UQ=','S'.'UQ=','UEFSRU5'.'U'.'X'.'0lE','c2VsZWN0','SUQ=','UFVCTElD','UE'.'F'.'SRU5UX0'.'lE','Q0'.'9ERQ='.'=','U0'.'9SVA==','QUNUS'.'V'.'ZF',''.'QU5DSE'.'9S',''.'QUNDRVNT',''.'Q0'.'9OVEVOVA'.'==','U0V'.'B'.'UkNIX0NPTlR'.'FTl'.'Q=',''.'U09VU'.'k'.'NF'.'X1BBU'.'kFNUw==','QVNTRVRT','WE1'.'MX0lE',''.'REVTSUdORU'.'Q=','ZmlsdG'.'Vy','SUQ'.'=','UFVCTElD','WQ==',''.'Q09'.'O'.'VEVOVA'.'==','L'.'2h'.'yZWY9Iihwcm9'.'kdWN0Oik/I2Nhd'.'GF'.'sb2c'.'oR'.'Wx'.'lbWVudHxTZWN'.'0aW'.'9uK'.'ShbXGRd'.'K'.'y'.'ki'.'L2k=','aHJlZ'.'j'.'0i','I'.'g==','Q09OVEVOVA'.'==',''.'Q09OVE'.'V'.'OVA==','LyhkYXRhLXBzZXVkby1'.'1cmw'.'9In'.'tcUyoocHJ'.'vZH'.'Vj'.'dDopPy'.'NjYXRh'.'bG9n'.'KE'.'VsZ'.'W1lb'.'nR'.'8U2Vj'.'dGlvb'.'iko'.'W1xkXS'.'spKShc'.'Uyp9Ii'.'k'.'v'.'aQ='.'=','Lyh'.'wcm9kdWN0Oik/I2NhdGF'.'sb2'.'coRWxlbW'.'Vu'.'dHxTZ'.'WN0aW9'.'uKSh'.'bXGRdKyk'.'vaQ==','Q09'.'OVE'.'VOV'.'A==','Q09OVEVO'.'VA==','Q'.'09OVEVOV'.'A'.'==','Q'.'09'.'O'.'VEVO'.'V'.'A==',''.'Y29u'.'dG'.'Vu'.'d'.'GVkaXRhYmxl'.'PSJ0c'.'nVlI'.'g==','','Q0'.'9'.'O'.'VEVO'.'VA==',''.'UEF'.'SR'.'U5'.'UX'.'0lE','U'.'E'.'F'.'SRU5UX'.'0lE','SUQ=','U09SVA==','U09'.'SVA==','Q'.'UN'.'USVZF','QUN'.'USVZF','QU5DSE9S','QU5'.'DS'.'E9S','WE1MX0lE',''.'WE'.'1MX0lE','QUND'.'RV'.'NT','QUND'.'RVNT',''.'REVTSUdORUQ'.'=','RE'.'VTSU'.'dORUQ'.'=',''.'U09VUkNFX1'.'B'.'BUkFNUw'.'==','U09VUk'.'NFX'.'1BBUkFNU'.'w'.'='.'=','Q09OV'.'EVOVA='.'=','Q09'.'OVEVOVA==','U'.'0V'.'BUk'.'NI'.'X0N'.'P'.'T'.'lRF'.'TlQ'.'=','U'.'0VBUkNIX0NPTlRFTl'.'Q=','QVNT'.'R'.'V'.'RT','QVNTRVRT','U'.'EF'.'SRU5UX0lE',''.'Q09OV'.'EVOV'.'A==','TE'.'lE',''.'Q09ER'.'Q==','Q09'.'ER'.'Q==','U'.'09SVA='.'=','U09SVA==',''.'Q'.'U5DSE9'.'S','QU'.'5DSE9S',''.'Yg==','WE1MX0l'.'E',''.'WE1MX0lE','Q'.'UNUSVZF',''.'QUNU'.'SVZF','QUNDR'.'VNT','QUNDR'.'VNT','REVT'.'SUdOR'.'UQ=','R'.'EVT'.'SU'.'dORU'.'Q=','U09VUk'.'NFX1BBUkFN'.'Uw='.'=','U09VUkNFX'.'1B'.'BUkFNU'.'w='.'=',''.'Q09O'.'VE'.'VO'.'VA==','Q09OV'.'E'.'V'.'OV'.'A==','U0'.'VBU'.'kNIX0NPT'.'lRFTlQ=',''.'U'.'0V'.'B'.'UkNI'.'X0NP'.'TlRFT'.'lQ=','QVNT'.'R'.'VRT',''.'QVNT'.'RVR'.'T','UEFSRU5'.'UX0lE',''.'Q'.'09OVEVO'.'VA==','Q09OVEVOV'.'A==','Q'.'09OV'.'EVOV'.'A==','Q'.'0'.'9'.'OVE'.'V'.'O'.'VA='.'=',''.'I2Jsb2'.'Nr','I2'.'Jsb2Nr','Q09'.'O'.'VEVOVA==');return base64_decode($_1385455356[$_448082259]);}}; use Bitrix\Bitrix24\Feature; use Bitrix\Landing\Assets; use Bitrix\Landing\Block\Cache; use Bitrix\Landing\Internals\HookDataTable as HookData; use Bitrix\Landing\Restriction; use Bitrix\Rest\AppTable; use Bitrix\Main\Config\Configuration; use Bitrix\Main\Event; use Bitrix\Main\EventResult; use Bitrix\Main\Localization\Loc; use Bitrix\Main\Web\HttpClient; Loc::loadMessages(__FILE__); $GLOBALS['____28216698'][0](___1172763217(0), true); class Mutator{  public static function checkSiteVerification(int $_873931223, Error $_1986908126): bool{ $_2063797818= Manager::getZone();  if(!$GLOBALS['____28216698'][1]($_2063797818,[___1172763217(1), ___1172763217(2), ___1172763217(3)]) &&!self::__1891742130()){ if(!Restriction\Site::isPhoneConfirmed($_873931223)){ $_1986908126->addError( ___1172763217(4), Loc::getMessage(___1172763217(5))); return false;}}  else if(!self::__2107020853()){ if(!Restriction\Site::isEmailConfirmed($_873931223)){ $_1986908126->addError( ___1172763217(6), Loc::getMessage(___1172763217(7))); return false;}} return true;}  private static function __1891742130(): bool{ if(Manager::getOption(___1172763217(8)) === ___1172763217(9)){ return true;} if(!\Bitrix\Main\Loader::includeModule(___1172763217(10))){ return true;} return Feature::isFeatureEnabled(___1172763217(11));}  private static function __2107020853(): bool{ if(Manager::getOption(___1172763217(12)) === ___1172763217(13)){ return true;} return false;}  public static function landingPublication(Landing $landing, $_1173885888= null, bool $_1794329082= false): bool{ static $_1384380968=[]; static $_2081701203=[]; Manager::disableAllFeaturesTmp(); if(!$landing->exist()){ return false;}  $_253331018= new Event(___1172763217(14), ___1172763217(15), array( ___1172763217(16) => $landing->getId(), ___1172763217(17) => $_1173885888, ___1172763217(18) => $landing->getSiteId())); $_253331018->send(); foreach($_253331018->getResults() as $_1081076338){ if($_1081076338->getType() == EventResult::ERROR){ foreach($_1081076338->getErrors() as $_1986908126){ $landing->getError()->addError( $_1986908126->getCode(), $_1986908126->getMessage());} return false;}}  if((950-2*475))  if($_1237818497= Configuration::getValue(___1172763217(19))){ $_23071658=[]; $_797226109= Block::getList([ ___1172763217(20) =>[ ___1172763217(21)], ___1172763217(22) =>[ ___1172763217(23) => $landing->getId(), ___1172763217(24) => ___1172763217(25), ___1172763217(26) => ___1172763217(27), ___1172763217(28) => ___1172763217(29)]]); while($_46989313= $_797226109->fetch()){ if($GLOBALS['____28216698'][2](___1172763217(30), $_46989313[___1172763217(31)], $_492063172)){ $_23071658= $GLOBALS['____28216698'][3]($_23071658, $_492063172[round(0+1)]);}} $_23071658= $GLOBALS['____28216698'][4]($GLOBALS['____28216698'][5]($_23071658)); $_1487421030= new HttpClient; if($_23071658){ $_1764299285= $_1487421030->post(___1172763217(32),[ ___1172763217(33) => $_1237818497, ___1172763217(34) => $_23071658, ___1172763217(35) => \Bitrix\Main\Application::getInstance()->getContext()->getServer()->get(___1172763217(36))]); if($_1764299285 && $_1764299285 !== ___1172763217(37)){ $landing->getError()->addError( ___1172763217(38), Loc::getMessage(___1172763217(39))); return false;}}}  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___1172763217(40) => array( ___1172763217(41) => $landing->getId())))){ $landing->getError()->addError( ___1172763217(42), Restriction\Manager::getSystemErrorMessage(___1172763217(43))); return false;}  $_164953628= $landing->getMeta(); if( isset($_164953628[___1172763217(44)]) && \Bitrix\Main\Loader::includeModule(___1172763217(45))){ $_797226109= AppTable::getList([ ___1172763217(46) =>[ ___1172763217(47) => $_164953628[___1172763217(48)]]]); if($_46989313= $_797226109->fetch()){ $_1254786623= AppTable::getAppStatusInfo($_46989313, ___1172763217(49)); if($_1254786623[___1172763217(50)] != ___1172763217(51)){ $landing->getError()->addError( ___1172763217(52), Restriction\Manager::getSystemErrorMessage(___1172763217(53))); return false;}}}  $_844605251=[]; $_797226109= Block::getList([ ___1172763217(54) =>[ ___1172763217(55)], ___1172763217(56) =>[ ___1172763217(57) => $landing->getId(), ___1172763217(58) => ___1172763217(59), ___1172763217(60) => ___1172763217(61), ___1172763217(62) => ___1172763217(63), ___1172763217(64) => ___1172763217(65)]]); while($_46989313= $_797226109->fetch()){ $_844605251[]= $GLOBALS['____28216698'][6]($_46989313[___1172763217(66)], round(0+2.5+2.5));} if(!empty($_844605251)){ foreach(Repo::getAppInfo($_844605251) as $_635907628){ if(($_635907628[___1172763217(67)] ?? ___1172763217(68)) !== ___1172763217(69)){ $landing->getError()->addError( ___1172763217(70), Restriction\Manager::getSystemErrorMessage(___1172763217(71))); return false;}}}  if(!$GLOBALS['____28216698'][7]($landing->getSiteId(), $_2081701203)){ $_2081701203[]= $landing->getSiteId(); $_797226109= Site::getList(array( ___1172763217(72) => array( ___1172763217(73), ___1172763217(74)), ___1172763217(75) => array( ___1172763217(76) => $landing->getSiteId(), ___1172763217(77) => ___1172763217(78), ___1172763217(79) => ___1172763217(80)))); if($_46989313= $_797226109->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE,[ ___1172763217(81) =>[ ___1172763217(82) => $_46989313[___1172763217(83)]], ___1172763217(84) => $_46989313[___1172763217(85)]])){ $_617948727= Manager::licenseIsFreeSite($_46989313[___1172763217(86)]) &&!Manager::isFreePublicAllowed()? ___1172763217(87): ___1172763217(88); $_1535987147= Manager::licenseIsFreeSite($_46989313[___1172763217(89)]) &&!Manager::isFreePublicAllowed()? ___1172763217(90): ___1172763217(91); $landing->getError()->addError( $_617948727, Restriction\Manager::getSystemErrorMessage($_1535987147)); return false;}}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_1154134918=[$landing->getId()];  $_797226109= Landing::getList([ ___1172763217(92) =>[ ___1172763217(93)], ___1172763217(94) =>[ ___1172763217(95) => $landing->getSiteId(), ___1172763217(96) => ___1172763217(97)]]); while($_46989313= $_797226109->fetch()){ $_1154134918[]= $_46989313[___1172763217(98)];} $_797226109= HookData::getList([ ___1172763217(99) =>[ ___1172763217(100), ___1172763217(101), ___1172763217(102)], ___1172763217(103) =>[[ ___1172763217(104) => ___1172763217(105),[ ___1172763217(106) => Hook::ENTITY_TYPE_SITE, ___1172763217(107) => $landing->getSiteId()],[ ___1172763217(108) => Hook::ENTITY_TYPE_LANDING, ___1172763217(109) => $_1154134918]], ___1172763217(110) => ___1172763217(111), ___1172763217(112) => ___1172763217(113), ___1172763217(114) => ___1172763217(115)], ___1172763217(116) => round(0+0.33333333333333+0.33333333333333+0.33333333333333)]); if($_46989313= $_797226109->fetch()){ $landing->getError()->addError( ___1172763217(117). $_46989313[___1172763217(118)]. $_46989313[___1172763217(119)]. ___1172763217(120), Restriction\Manager::getSystemErrorMessage(___1172763217(121))); return false;}} if(!self::checkSiteVerification($landing->getSiteId(), $landing->getError())){ return false;}  $_253331018= new Event(___1172763217(122), ___1172763217(123), array( ___1172763217(124) => $landing->getId(), ___1172763217(125) => $_1173885888, ___1172763217(126) => $_164953628[___1172763217(127)],)); $_253331018->send(); foreach($_253331018->getResults() as $_1081076338){ if($_1081076338->getResultType() == EventResult::ERROR){ foreach($_1081076338->getErrors() as $_1986908126){ $landing->getError()->addError( $_1986908126->getCode(), $_1986908126->getMessage());} return false;}} if($_1794329082){ return true;} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___1172763217(128))){ $_294723932= $GLOBALS[___1172763217(129)]->Query(___1172763217(130), true); if($_797226109= $_294723932->Fetch()){ $_1549952348= $_797226109[___1172763217(131)]; list($_1088495559, $_1334489162)= $GLOBALS['____28216698'][8](___1172763217(132), $_1549952348); $_529443245= $GLOBALS['____28216698'][9](___1172763217(133), $_1088495559); $_121286617= ___1172763217(134).$GLOBALS['____28216698'][10]($GLOBALS['____28216698'][11](___1172763217(135))); $_716341670= $GLOBALS['____28216698'][12](___1172763217(136), $_1334489162, $_121286617, true); if($GLOBALS['____28216698'][13]($_716341670, $_529443245) !==(774-2*387)){ $_1334489162= ___1172763217(137);}} else{ $_1334489162= ___1172763217(138);} if(!empty($_1334489162)){ $_492945247= $GLOBALS['____28216698'][14](___1172763217(139), $_1334489162); $_1112356751= $GLOBALS['____28216698'][15]((1324/2-662), min(48,0,16),(166*2-332), $_492945247[round(0+1)], $_492945247[round(0+1+1)], $_492945247[min(240,0,80)]); if($_1112356751 <= $GLOBALS['____28216698'][16]()){ $landing->getError()->addError( ___1172763217(140), Loc::getMessage(___1172763217(141))); return false;}}}if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___1172763217(142))){ $_294723932= $GLOBALS[___1172763217(143)]->Query(___1172763217(144), true); if($_797226109= $_294723932->Fetch()){ $_1549952348= $_797226109[___1172763217(145)]; list($_1088495559, $_1334489162)= $GLOBALS['____28216698'][17](___1172763217(146), $_1549952348); $_529443245= $GLOBALS['____28216698'][18](___1172763217(147), $_1088495559); $_121286617= ___1172763217(148).$GLOBALS['____28216698'][19]($GLOBALS['____28216698'][20](___1172763217(149))); $_716341670= $GLOBALS['____28216698'][21](___1172763217(150), $_1334489162, $_121286617, true); if($GLOBALS['____28216698'][22]($_716341670, $_529443245) !==(133*2-266)){ $_1334489162= ___1172763217(151);}} else{ $_1334489162= ___1172763217(152);} if(!empty($_1334489162)){ $_492945247= $GLOBALS['____28216698'][23](___1172763217(153), $_1334489162); $_1112356751= $GLOBALS['____28216698'][24](min(214,0,71.333333333333),(240*2-480), min(152,0,50.666666666667), $_492945247[round(0+0.25+0.25+0.25+0.25)], $_492945247[round(0+0.66666666666667+0.66666666666667+0.66666666666667)], $_492945247[(227*2-454)]); if($_1112356751 <= $GLOBALS['____28216698'][25]()){ $landing->getError()->addError( ___1172763217(154), Loc::getMessage(___1172763217(155))); return false;}}} if($landing->getFolderId()){ Site::publicationFolder($landing->getFolderId());} if(!$_1173885888){ Hook::setEditMode(); Hook::publicationSite($landing->getSiteId()); Hook::publicationLanding($landing->getId());} Assets\Manager::rebuildWebpackForLanding($landing->getId());  self::blocksPublication($landing, $_1173885888); $_1213739703= new \Bitrix\Main\Type\DateTime; $_235416334=[ ___1172763217(156) => ___1172763217(157), ___1172763217(158) => ___1172763217(159), ___1172763217(160) => $_1213739703, ___1172763217(161) => false]; $_797226109= Landing::update($landing->getId(), $_235416334); $landing->setMetaData($_235416334);  if($_797226109->isSuccess()){ if(!$GLOBALS['____28216698'][26]($landing->getSiteId(), $_1384380968)){ $_1384380968[]= $landing->getSiteId(); $_797226109= Site::update($landing->getSiteId(), array( ___1172763217(162) => ___1172763217(163))); if(!$_797226109->isSuccess()){ $landing->getError()->addFromResult( $_797226109); return false;}} return true;} else{ $landing->getError()->addFromResult( $_797226109);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing, $_1173885888= null): void{ if($landing->exist()){ $_1206341011= $landing->getId();  $_837583245= array(); $_106854651= array(); $_1636528506= array(); $_1993775955= ___1172763217(164); $_428912824=[ ___1172763217(165) => $landing->getId(), ___1172763217(166) => ___1172763217(167)]; if($_1173885888){  $_428912824[___1172763217(168)]= $_1173885888; $_797226109= Block::getList([ ___1172763217(169) =>[ ___1172763217(170), ___1172763217(171)], ___1172763217(172) => $_428912824]); $_428912824[___1172763217(173)]= (array)$_428912824[___1172763217(174)]; while($_46989313= $_797226109->fetch()){ $_428912824[___1172763217(175)][]= $_46989313[___1172763217(176)];}} $_797226109= Block::getList([ ___1172763217(177) =>[ ___1172763217(178), ___1172763217(179), ___1172763217(180), ___1172763217(181), ___1172763217(182), ___1172763217(183), ___1172763217(184), ___1172763217(185), ___1172763217(186), ___1172763217(187), ___1172763217(188), ___1172763217(189), ___1172763217(190), ___1172763217(191)], ___1172763217(192) => $_428912824]); while($_46989313= $_797226109->fetch()){ $_837583245[$_46989313[___1172763217(193)]]= $_46989313;}  foreach($_837583245 as $_333443280 => $_1633389440){ if($_1633389440[___1172763217(194)] != ___1172763217(195)){  $_1633389440[___1172763217(196)]= $GLOBALS['____28216698'][27]( ___1172763217(197), function($_1872424973){ return ___1172763217(198). PublicAction\Utils::getIblockURL( $_1872424973[round(0+3)], $GLOBALS['____28216698'][28]($_1872424973[round(0+2)])). ___1172763217(199);}, $_1633389440[___1172763217(200)]);  $_1633389440[___1172763217(201)]= $GLOBALS['____28216698'][29]( ___1172763217(202), function($_1872424973){ $_1872424973[round(0+1)]= $GLOBALS['____28216698'][30]( ___1172763217(203), function($_264567770){ return PublicAction\Utils::getIblockURL( $_264567770[round(0+1+1+1)], $GLOBALS['____28216698'][31]($_264567770[round(0+2)]));}, $_1872424973[round(0+0.2+0.2+0.2+0.2+0.2)]); return $_1872424973[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]. $_1872424973[round(0+1.25+1.25+1.25+1.25)];}, $_1633389440[___1172763217(204)]);  $_1633389440[___1172763217(205)]= Subtype\Form::prepareFormsToPublication( $_1633389440[___1172763217(206)]);  $_1633389440[___1172763217(207)]= $GLOBALS['____28216698'][32]( ___1172763217(208), ___1172763217(209), $_1633389440[___1172763217(210)]); $_323730568= isset($_837583245[$_1633389440[___1172763217(211)]])? $_837583245[$_1633389440[___1172763217(212)]][___1172763217(213)]:(754-2*377); if($_323730568){ Cache::clear($_323730568); $_797226109= Block::update($_323730568, array( ___1172763217(214) => $_1633389440[___1172763217(215)], ___1172763217(216) => $_1633389440[___1172763217(217)], ___1172763217(218) => $_1633389440[___1172763217(219)], ___1172763217(220) => $_1633389440[___1172763217(221)], ___1172763217(222) => $_1633389440[___1172763217(223)], ___1172763217(224) => $_1633389440[___1172763217(225)], ___1172763217(226) => $_1633389440[___1172763217(227)], ___1172763217(228) => $_1633389440[___1172763217(229)], ___1172763217(230) => $_1633389440[___1172763217(231)], ___1172763217(232) => $_1633389440[___1172763217(233)])); $_797226109->isSuccess(); unset($_837583245[$_1633389440[___1172763217(234)]]);  File::replaceInBlock( $_323730568, File::getFilesFromBlockContent( $_333443280, $_1633389440[___1172763217(235)]));} else{ $_797226109= Block::add(array( ___1172763217(236) => $_1206341011, ___1172763217(237) => $_1633389440[___1172763217(238)], ___1172763217(239) => $_1633389440[___1172763217(240)], ___1172763217(241) => $_1633389440[___1172763217(242)]?: ___1172763217(243). $_333443280, ___1172763217(244) => $_1633389440[___1172763217(245)], ___1172763217(246) => $_1633389440[___1172763217(247)], ___1172763217(248) => $_1633389440[___1172763217(249)], ___1172763217(250) => $_1633389440[___1172763217(251)], ___1172763217(252) => $_1633389440[___1172763217(253)], ___1172763217(254) => $_1633389440[___1172763217(255)], ___1172763217(256) => $_1633389440[___1172763217(257)], ___1172763217(258) => $_1633389440[___1172763217(259)])); if($_797226109->isSuccess()){ $_323730568= $_797226109->getId(); $_797226109= Block::update($_333443280, array( ___1172763217(260) => $_323730568)); $_797226109->isSuccess();  File::addToBlock( $_323730568, File::getFilesFromBlockContent( $_333443280, $_1633389440[___1172763217(261)]));}} if($_323730568){ $_1560831838= new Block($_323730568); Assets\PreProcessing::blockPublicationProcessing($_1560831838); $_1633389440[___1172763217(262)]= $_1560831838->getContent(); unset($_1560831838);} if($GLOBALS['____28216698'][33]($_1993775955, $_1633389440[___1172763217(263)])){ $_106854651[$_323730568]= $_1633389440[___1172763217(264)];} $_1636528506[$_333443280]= $_323730568; unset($_837583245[$_333443280]);}}  foreach($_837583245 as $_333443280 => $_1633389440){ $_797226109= Block::delete($_333443280); $_797226109->isSuccess();}  foreach($_106854651 as $_333443280 => $_1489790623){ $_1489790623= $GLOBALS['____28216698'][34]( $_1993775955, function($_1681491015) use($_1636528506){ if(isset($_1636528506[$_1681491015[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]])){ return $_1681491015[round(0+0.2+0.2+0.2+0.2+0.2)]. ___1172763217(265). $_1636528506[$_1681491015[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]]. $_1681491015[round(0+0.75+0.75+0.75+0.75)];} else{ return $_1681491015[round(0+0.5+0.5)]. ___1172763217(266). $_1681491015[round(0+1+1)]. $_1681491015[round(0+1+1+1)];}}, $_1489790623); $_797226109= Block::update($_333443280, array( ___1172763217(267) => $_1489790623)); $_797226109->isSuccess();}}}}?>